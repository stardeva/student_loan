<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>学融宝</title>

    <!-- Bootstrap -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="../assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="../assets/css/bootstrapValidator.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <header class="header">
      <nav class="topnav">
        <a href="#" class="nav back"><div class="back-icon image"></div></a>
        <span class="nav text title">绑定银行卡</span>
        <a href="#" class="nav link house">
          <div class="image house-image"></div>
          <div class="image house-mask-image"></div>
        </a>
      </nav>
    </header>

    <section class="bank-card main-loan-area">
      <form id="bank_card_form" class="form-horizontal loan-form">
        <div class="back-card-title">
          <label>请绑定本人的银行卡</label>
        </div>
        <div class="form-group">
          <label class="col-xs-5 cols control-label">银行卡号<span class="reqire-icon"> *</span></label>
          <div class="col-xs-7 cols">
              <input class="form-control input-lg" name="card" type="text" size="35" placeholder="仅支持储蓄卡">
          </div>
          </input>
        </div>

        <div class="form-group">
          <label class="col-xs-5 cols control-label">银行<span class="reqire-icon"> *</span></label>
          <div class="col-xs-7 cols">
              <input class="form-control input-lg" id="bank_name" name="bank" type="text" size="35" placeholder="请选择"></input>
              <div class="arrow image"></div>
          </div>
          </input>
        </div>

        <div class="form-group">
          <label class="col-xs-5 cols control-label">开户行<span class="reqire-icon"> *</span></label>
          <div class="col-xs-7 cols">
              <input class="form-control input-lg" name="number" type="text" size="35" placeholder="例如xx支行"></input>
          </div>
          </input>
        </div>

        <input class="btn btn-lg btn-default submit-button" value="确定" type="submit" disabled></input>
      </form>
    </section>
    

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../assets/js/jquery-2.1.4.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/bootstrapValidator.min.js"></script>

    <script src="../assets/js/main.js"></script>

    <script type="text/javascript">
      //bank card page
      $('#bank_card_form').bootstrapValidator({
        fields: {
          card: {
            validators: {
              notEmpty: {
                message: 'The card is required.'
              }
            }
          },
          bank: {
            validators: {
              callback: {
                message: 'The bank is required.',
                callback: function (value, validator, $field) {
                  // Determine the numbers which are generated in captchaOperation                                
                  if(value) {
                    $('#bank_card_form .arrow').hide();
                      return true;
                  }
                  else {
                    $('#bank_card_form .arrow').show();
                    return false;
                  }
                }
              }
            }
          },
          number: {
            validators: {
              notEmpty: {
                message: 'The number is required.'
              },
              stringLength: {
                min: 5,
                message: 'Your number must be at least 5 characters.'
              }
            }
          }
        }
    });


    $('#bank_card_form').on('status.field.bv', function(e, data) {
        formIsValid = true;

        $('.form-group',$(this)).each( function() {
            formIsValid = formIsValid && $(this).hasClass('has-success');
        });
        
        if(formIsValid) {
            $('.submit-button', $(this)).attr('disabled', false);
        } else {
            $('.submit-button', $(this)).attr('disabled', true);
        }
    });
    </script>

  </body>
</html>